{"version":3,"sources":["webpack:///./src/views/mainUpload/MainLeftUpload.vue?ede8","webpack:///src/views/mainUpload/MainLeftUpload.vue","webpack:///./src/views/mainUpload/MainLeftUpload.vue?69fe","webpack:///./src/views/mainUpload/MainLeftUpload.vue","webpack:///./src/views/mainUpload/MainLeftUpload.vue?2e21","webpack:///./src/eventBus/eventBus.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","postWeibo","_v","ref","staticRenderFns","name","data","textarea","picsDataList","hasKeepAliveFlag","methods","length","postDate","$store","commit","dataList","eventBus","$router","push","path","plugins","created","deactivated","component","Vue"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQP,EAAIQ,YAAY,CAACJ,EAAG,IAAI,CAACE,YAAY,eAAeN,EAAIS,GAAG,YAAYL,EAAG,MAAM,CAACM,IAAI,SAASJ,YAAY,iBAC9SK,EAAkB,G,8CCYP,GACbC,KAAMA,iBACNC,KAFF,WAGI,MAAO,CACLC,SAAUA,GACVC,aAAcA,GACdC,kBAAkBA,IAGtBC,QAASA,CAEPT,UAAWA,gBAASA,WAElB,GAAsB,KAAlBP,KAAKa,UAAgD,IAA7Bb,KAAKc,aAAaG,OAA9C,CAIA,IAAN,GACQJ,SAAUA,KAAKA,SACfC,aAAcA,KAAKA,aACnBI,SAAUA,kBAEZlB,KAAKmB,OAAOC,OAAO,2BAA4BC,GAE/CC,OAASA,MAAMA,cAAeA,KAAKA,kBAEnCtB,KAAKuB,QAAQC,KAAK,CAAxBC,gCAZQC,OAAQA,eAAeA,KAAKA,MAAMA,OAAQA,eAalD,MAGEC,QA9BF,WA8BA,WAEIL,OAASA,IAAIA,qBAAqBA,SAA1BA,GACN,EAAN,oBAEM,EAAN,oCACA,YAAQ,MAAR,wBAKEM,YAzCF,WA0CIN,OAASA,KAAKA,uBCvDqV,I,wBCQnWO,EAAY,eACd,EACA/B,EACAY,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E,oECnBf,W,oCCAA,kDACaP,EAAW,IAAIQ","file":"js/chunk-0e719222.aba5ef1d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainleftupload\"},[_c('div',{staticClass:\"post-button\"},[_c('button',{on:{\"click\":_vm.postWeibo}},[_c('i',{staticClass:\"icon-reply\"}),_vm._v(\"发布微博\")])]),_c('div',{ref:\"myHint\",staticClass:\"post-hint\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mainleftupload\">\n    <div class=\"post-button\">\n      <button @click=\"postWeibo\"><i class=\"icon-reply\"></i>发布微博</button>\n    </div>\n    <div class=\"post-hint\" ref=\"myHint\"></div>\n  </div>\n</template>\n\n<script>\nimport { plugins, getTime, throttle } from '@/api/plugins.js';\nimport { eventBus } from '@/eventBus/eventBus.js';\n\nexport default {\n  name: 'MainLeftUpload',\n  data() {\n    return {\n      textarea: '',\n      picsDataList: [],\n      hasKeepAliveFlag: false // 点击了发布微博按钮要销毁组件\n    };\n  },\n  methods: {\n    // 点击发布微博按钮\n    postWeibo: throttle(function () {\n      // 判断 textarea 和 picDataList 是否为空 为空说明用户没有编辑信息 不能发布微博 return掉\n      if (this.textarea === '' && this.picsDataList.length === 0) {\n        plugins.domShowTimeout(this.$refs.myHint, '你还未编辑微博哦！');\n        return;\n      }\n      let dataList = {\n        textarea: this.textarea,\n        picsDataList: this.picsDataList,\n        postDate: getTime() // 发布微博时获取当前日期\n      };\n      this.$store.commit('MYWEIBO/getWeiboDataList', dataList);\n      // to MainMiddleUpload.vue 判断用户是否点击了发布微博按钮 然后清除页面信息\n      eventBus.$emit('getPostFlag', this.hasKeepAliveFlag);\n      // 点击后进入 我的微博页面\n      this.$router.push({ path: '/Home/LeftMyWeibo' });\n    }, 500)\n  },\n\n  created() {\n    // from MainMiddleUpload.vue 上传微博发布的内容 整理下信息\n    eventBus.$on('sendWeiboDataList', (value) => {\n      this.textarea = value.textarea;\n      // 把为空的图片去除 过滤出有链接的图片\n      this.picsDataList = value.picsDataList.filter(\n        (item) => item.uploadImg !== ''\n      );\n    });\n  },\n\n  deactivated() {\n    eventBus.$off('sendWeiboDataList');\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.post-button {\n  height: 40px;\n  margin: 10px;\n  font-size: 14px;\n  button {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    background-color: #16161a;\n    color: #d3d3d3;\n    cursor: pointer;\n    i {\n      margin: 0 10px;\n      font-size: 20px;\n    }\n    &:hover {\n      color: #ff9820;\n      background-color: #333;\n      border-radius: 8px;\n      i {\n        color: #ff9820;\n      }\n    }\n    .icon-reply:before {\n      content: '\\e96a';\n    }\n  }\n}\n\n.post-hint {\n  display: none;\n  width: 100%;\n  height: 50px;\n  line-height: 50px;\n  text-align: center;\n  font-weight: 700;\n  color: red;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainLeftUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainLeftUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainLeftUpload.vue?vue&type=template&id=efc868a0&scoped=true&\"\nimport script from \"./MainLeftUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./MainLeftUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainLeftUpload.vue?vue&type=style&index=0&id=efc868a0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"efc868a0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainLeftUpload.vue?vue&type=style&index=0&id=efc868a0&lang=less&scoped=true&\"","import Vue from 'vue';\nexport const eventBus = new Vue();\n"],"sourceRoot":""}